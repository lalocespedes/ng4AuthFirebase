<h1>Login</h1>

<button (click)="signInWithGoogle()" class="btn btn-success" *ngIf="!auth.currentUser">
  <i clas="fa fa-google-plus fa-lg"></i> Google
</button>

<div *ngIf="auth.currentUser && !auth.hasUsername">

  <h3>Choose a Username</h3>

  <input type="text" class="form-input" placeholder="choose a username" [(ngModel)]="usernameText" (keyup)="checkUsername()"
  />

  <p class="help is-success" *ngIf="usernameAvailabe && usernameText">
    @{{usernameText}} is available
  </p>

  <p class="help is-danger" *ngIf="!usernameAvailable && usernameText">
    @{{usernameText}} has already been taken
  </p>

  <button class="btn btn-success" [disabled]="!usernameAvailable || !usernameText" (click)="updateUsername()">
    Select Username
  </button>

</div>

<div class="row">
  <div class="col col-md"></div>    
  <div class="col-md-10 col-md-6">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <h4>Introduzca los siguientes datos:</h4>
      <label>Correo Electr칩nico</label>
      <input type="email" id="inputEmail" class="form-control" 
           formControlName="email" required autofocus>
      <label>Contrase침a</label>
      <input type="password" id="inputPassword" class="form-control" 
           formControlName="password" required>
      <hr>
      <button type="submit" 
              class="btn btn-primary"
              [disabled]="!loginForm.valid"
              >Inicie sesi칩n</button> 
    </form>
    <p class="alert alert-danger" *ngIf="mensaje">
        El usuario o contrase침a no es correcto
    </p>
  </div>
  <div class="col col-md"></div>    
</div>

